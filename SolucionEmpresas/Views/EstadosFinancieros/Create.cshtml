@model SolucionEmpresas.Models.EstadosFinancieros

@{
    ViewBag.Title = "Crear Estado Financiero";
}

<div class="container" style="margin-top: 80px;">
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <h1>@ViewBag.Title</h1>
            <hr />

            @using (Html.BeginForm("Create", "EstadosFinancieros", FormMethod.Post, new { @class = "form-horizontal" }))
            {
                @Html.AntiForgeryToken()

                <!-- Empresa -->
                <div class="form-group">
                    <label class="control-label col-md-2">Empresa <span class="text-danger">*</span></label>
                    <div class="col-md-10">
                        <select name="EmpresaId" class="form-control" required>
                            <option value="">-- Seleccione Empresa --</option>
                            @if (ViewBag.Empresas != null)
                            {
                                foreach (var empresa in (SelectList)ViewBag.Empresas)
                                {
                                    <option value="@empresa.Value">@empresa.Text</option>
                                }
                            }
                        </select>
                    </div>
                </div>

                <div class="row">
                    <!-- Período -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Período <span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.Periodo, "{0:yyyy-MM}", new { @class = "form-control", @type = "month", @required = "required" })
                                @Html.ValidationMessageFor(model => model.Periodo, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>

                    <!-- Fecha Estado -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Fecha<span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.Fecha, "{0:yyyy-MM-dd}", new { @class = "form-control", @type = "date", @required = "required" })
                                @Html.ValidationMessageFor(model => model.Fecha, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>

                <hr />
                <h4>Datos del Activo</h4>

                <div class="row">
                    <!-- Activo Corriente -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Activo Corriente <span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.ActivoCorriente, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @min = "0", @required = "required" })
                                @Html.ValidationMessageFor(model => model.ActivoCorriente, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>

                    <!-- Activo Total -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Activo Total <span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.ActivoTotal, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @min = "0", @required = "required" })
                                @Html.ValidationMessageFor(model => model.ActivoTotal, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>

                <hr />
                <h4>Datos del Pasivo</h4>

                <div class="row">
                    <!-- Pasivo Corriente -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Pasivo Corriente <span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.PasivoCorriente, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @min = "0", @required = "required" })
                                @Html.ValidationMessageFor(model => model.PasivoCorriente, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>

                    <!-- Pasivo Total -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Pasivo Total <span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.PasivoTotal, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @min = "0", @required = "required" })
                                @Html.ValidationMessageFor(model => model.PasivoTotal, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>

                <hr />
                <h4>Patrimonio e Ingresos</h4>

                <div class="row">
                    <!-- Patrimonio -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Patrimonio <span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.Patrimonio, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @min = "0", @required = "required" })
                                @Html.ValidationMessageFor(model => model.Patrimonio, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>

                    <!-- Ingresos Operacionales -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-4">Ingresos Operacionales <span class="text-danger">*</span></label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.IngresosOperacionales, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @min = "0", @required = "required" })
                                @Html.ValidationMessageFor(model => model.IngresosOperacionales, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>

                <hr />
                <h4>Utilidades</h4>

                <div class="row">
                    <!-- Utilidad Bruta -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="control-label col-md-6">Utilidad Bruta <span class="text-danger">*</span></label>
                            <div class="col-md-6">
                                @Html.TextBoxFor(model => model.UtilidadBruta, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @required = "required" })
                                @Html.ValidationMessageFor(model => model.UtilidadBruta, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>

                    <!-- Utilidad Operativa -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="control-label col-md-6">Utilidad Operativa <span class="text-danger">*</span></label>
                            <div class="col-md-6">
                                @Html.TextBoxFor(model => model.UtilidadOperativa, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @required = "required" })
                                @Html.ValidationMessageFor(model => model.UtilidadOperativa, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>

                    <!-- Utilidad Neta -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="control-label col-md-6">Utilidad Neta <span class="text-danger">*</span></label>
                            <div class="col-md-6">
                                @Html.TextBoxFor(model => model.UtilidadNeta, "{0:0.00}", new { @class = "form-control", @type = "number", @step = "0.01", @required = "required" })
                                @Html.ValidationMessageFor(model => model.UtilidadNeta, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>

                <hr />

                <!-- Activo (Checkbox) -->
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <div class="checkbox">
                            <label>
                                @Html.CheckBoxFor(model => model.Activa)
                                Estado Activo
                            </label>
                        </div>
                    </div>
                </div>

                <hr />

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <button type="submit" class="btn btn-primary btn-lg">💾 Guardar</button>
                        @Html.ActionLink("Cancelar", "Index", null, new { @class = "btn btn-default btn-lg" })
                    </div>
                </div>
            }
        </div>
    </div>
</div>